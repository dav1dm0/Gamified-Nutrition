{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moroh\\\\Codebase\\\\APPLICATIONS\\\\mealstore\\\\SERVER\\\\apps\\\\nutrition-web\\\\src\\\\components\\\\Settings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getUserPreferences, updateUserPreferences } from '../api';\nimport PetSelector from './PetSelector';\nimport Toast from './Toast';\nimport './Settings.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Settings() {\n  _s();\n  const [prefs, setPrefs] = useState({\n    hideLeaderboard: false,\n    hidePet: false\n  });\n  const [toast, setToast] = useState({\n    message: '',\n    type: 'success'\n  });\n  useEffect(() => {\n    getUserPreferences().then(({\n      data\n    }) => {\n      setPrefs({\n        hideLeaderboard: data.hideLeaderboard || false,\n        hidePet: data.hidePet || false\n      });\n    }).catch(err => {\n      console.error('Failed to load preferences:', err);\n      setToast({\n        message: 'Failed to load preferences',\n        type: 'error'\n      });\n    });\n  }, []);\n  const handleToggle = async e => {\n    const {\n      name,\n      checked\n    } = e.target;\n    try {\n      await updateUserPreferences({\n        [name]: checked\n      });\n      setPrefs(prev => ({\n        ...prev,\n        [name]: checked\n      }));\n      setToast({\n        message: 'Preferences saved',\n        type: 'success'\n      });\n    } catch (err) {\n      console.error('Failed to save preferences:', err);\n      setToast({\n        message: 'Failed to save preferences',\n        type: 'error'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"settings-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"settings-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"settings-title\",\n        children: \"Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-field\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"hideLeaderboard\",\n            checked: prefs.hideLeaderboard,\n            onChange: handleToggle,\n            className: \"settings-checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"settings-label\",\n            children: \"Hide Leaderboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-field\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"hidePet\",\n            checked: prefs.hidePet,\n            onChange: handleToggle,\n            className: \"settings-checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"settings-label\",\n            children: \"Hide Pet Display\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-petselector\",\n        children: /*#__PURE__*/_jsxDEV(PetSelector, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      message: toast.message,\n      type: toast.type,\n      onClose: () => setToast({\n        message: '',\n        type: 'success'\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(Settings, \"R5zrttIJwJ0gUcQ3OR//qg+DBOI=\");\n_c = Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","useState","useEffect","getUserPreferences","updateUserPreferences","PetSelector","Toast","jsxDEV","_jsxDEV","Settings","_s","prefs","setPrefs","hideLeaderboard","hidePet","toast","setToast","message","type","then","data","catch","err","console","error","handleToggle","e","name","checked","target","prev","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onClose","_c","$RefreshReg$"],"sources":["C:/Users/moroh/Codebase/APPLICATIONS/mealstore/SERVER/apps/nutrition-web/src/components/Settings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getUserPreferences, updateUserPreferences } from '../api';\nimport PetSelector from './PetSelector';\nimport Toast from './Toast';\nimport './Settings.css';\n\nexport default function Settings() {\n  const [prefs, setPrefs] = useState({ hideLeaderboard: false, hidePet: false });\n  const [toast, setToast] = useState({ message: '', type: 'success' });\n\n  useEffect(() => {\n    getUserPreferences().then(({ data }) => {\n      setPrefs({\n        hideLeaderboard: data.hideLeaderboard || false,\n        hidePet: data.hidePet || false,\n      });\n    }).catch((err) => {\n      console.error('Failed to load preferences:', err);\n      setToast({ message: 'Failed to load preferences', type: 'error' });\n    });\n  }, []);\n\n  const handleToggle = async (e) => {\n    const { name, checked } = e.target;\n    try {\n      await updateUserPreferences({ [name]: checked });\n      setPrefs((prev) => ({ ...prev, [name]: checked }));\n      setToast({ message: 'Preferences saved', type: 'success' });\n    } catch (err) {\n      console.error('Failed to save preferences:', err);\n      setToast({ message: 'Failed to save preferences', type: 'error' });\n    }\n  };\n\n  return (\n    <div className=\"settings-container\">\n      <div className=\"settings-content\">\n        <h2 className=\"settings-title\">Settings</h2>\n\n        <div className=\"settings-field\">\n          <label>\n            <input\n              type=\"checkbox\"\n              name=\"hideLeaderboard\"\n              checked={prefs.hideLeaderboard}\n              onChange={handleToggle}\n              className=\"settings-checkbox\"\n            />\n            <span className=\"settings-label\">Hide Leaderboard</span>\n          </label>\n        </div>\n\n        <div className=\"settings-field\">\n          <label>\n            <input\n              type=\"checkbox\"\n              name=\"hidePet\"\n              checked={prefs.hidePet}\n              onChange={handleToggle}\n              className=\"settings-checkbox\"\n            />\n            <span className=\"settings-label\">Hide Pet Display</span>\n          </label>\n        </div>\n\n        <div className=\"settings-petselector\">\n          <PetSelector />\n        </div>\n      </div>\n\n      <Toast\n        message={toast.message}\n        type={toast.type}\n        onClose={() => setToast({ message: '', type: 'success' })}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}