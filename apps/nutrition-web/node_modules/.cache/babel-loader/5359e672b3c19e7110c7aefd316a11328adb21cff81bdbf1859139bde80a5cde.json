{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: '/api' || 'http://localhost:5000/api',\n  withCredentials: true\n});\n\n// Request interceptor for auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Response interceptor for auth token\napi.interceptors.response.use(response => response, error => {\n  if (error.response && error.response.status === 401) {\n    localStorage.removeItem('token');\n  }\n  return Promise.reject(error);\n});\nexport function setAuthToken(token) {\n  api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n}\n\n// Auth endpoints\nexport const login = data => api.post('/auth/login', data);\nexport const register = data => api.post('/auth/register', data);\nexport const logout = () => api.post('/auth/logout');\n\n// User endpoints\nexport const getUserProfile = () => api.get('/users/me');\nexport const deleteUserAccount = () => api.delete('/users/delete');\nexport const setPet = petType => api.put('/users/preferences', {\n  petType\n});\nexport const getUserPreferences = () => api.get('/users/preferences');\nexport const updateUserPreferences = prefs => api.put('/users/preferences', prefs);\n\n// Points\nexport const completeMeal = () => api.post('/points/complete');\nexport const getPoints = () => api.get('/points');\n\n// Leaderboard\nexport const getLeaderboard = () => api.get('/leaderboard');","map":{"version":3,"names":["axios","api","create","baseURL","withCredentials","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","response","error","status","removeItem","Promise","reject","setAuthToken","defaults","common","login","data","post","register","logout","getUserProfile","get","deleteUserAccount","delete","setPet","petType","put","getUserPreferences","updateUserPreferences","prefs","completeMeal","getPoints","getLeaderboard"],"sources":["C:/Users/moroh/Codebase/APPLICATIONS/mealstore/SERVER/apps/nutrition-web/src/api/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: '/api' || 'http://localhost:5000/api',\n  withCredentials: true,\n});\n\n// Request interceptor for auth token\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) { config.headers.Authorization = `Bearer ${token}`; }\n  return config;\n});\n\n// Response interceptor for auth token\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response && error.response.status === 401) {\n      localStorage.removeItem('token');\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport function setAuthToken(token) {\n  api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n}\n\n// Auth endpoints\nexport const login = (data) => api.post('/auth/login', data);\nexport const register = (data) => api.post('/auth/register', data);\nexport const logout = () => api.post('/auth/logout');\n\n// User endpoints\nexport const getUserProfile = () => api.get('/users/me');\nexport const deleteUserAccount = () => api.delete('/users/delete');\n\nexport const setPet = (petType) => api.put('/users/preferences', { petType });\nexport const getUserPreferences = () => api.get('/users/preferences')\nexport const updateUserPreferences = (prefs) => api.put('/users/preferences', prefs);\n\n// Points\nexport const completeMeal = () => api.post('/points/complete');\nexport const getPoints = () => api.get('/points');\n\n// Leaderboard\nexport const getLeaderboard = () => api.get('/leaderboard');\n\n\n\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,MAAM,IAAI,2BAA2B;EAC9CC,eAAe,EAAE;AACnB,CAAC,CAAC;;AAEF;AACAH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IAAED,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAAE;EAC/D,OAAOD,MAAM;AACf,CAAC,CAAC;;AAEF;AACAP,GAAG,CAACI,YAAY,CAACS,QAAQ,CAACP,GAAG,CAC1BO,QAAQ,IAAKA,QAAQ,EACrBC,KAAK,IAAK;EACT,IAAIA,KAAK,CAACD,QAAQ,IAAIC,KAAK,CAACD,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IACnDN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;EAClC;EACA,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,OAAO,SAASK,YAAYA,CAACX,KAAK,EAAE;EAClCR,GAAG,CAACoB,QAAQ,CAACT,OAAO,CAACU,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUb,KAAK,EAAE;AAClE;;AAEA;AACA,OAAO,MAAMc,KAAK,GAAIC,IAAI,IAAKvB,GAAG,CAACwB,IAAI,CAAC,aAAa,EAAED,IAAI,CAAC;AAC5D,OAAO,MAAME,QAAQ,GAAIF,IAAI,IAAKvB,GAAG,CAACwB,IAAI,CAAC,gBAAgB,EAAED,IAAI,CAAC;AAClE,OAAO,MAAMG,MAAM,GAAGA,CAAA,KAAM1B,GAAG,CAACwB,IAAI,CAAC,cAAc,CAAC;;AAEpD;AACA,OAAO,MAAMG,cAAc,GAAGA,CAAA,KAAM3B,GAAG,CAAC4B,GAAG,CAAC,WAAW,CAAC;AACxD,OAAO,MAAMC,iBAAiB,GAAGA,CAAA,KAAM7B,GAAG,CAAC8B,MAAM,CAAC,eAAe,CAAC;AAElE,OAAO,MAAMC,MAAM,GAAIC,OAAO,IAAKhC,GAAG,CAACiC,GAAG,CAAC,oBAAoB,EAAE;EAAED;AAAQ,CAAC,CAAC;AAC7E,OAAO,MAAME,kBAAkB,GAAGA,CAAA,KAAMlC,GAAG,CAAC4B,GAAG,CAAC,oBAAoB,CAAC;AACrE,OAAO,MAAMO,qBAAqB,GAAIC,KAAK,IAAKpC,GAAG,CAACiC,GAAG,CAAC,oBAAoB,EAAEG,KAAK,CAAC;;AAEpF;AACA,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAMrC,GAAG,CAACwB,IAAI,CAAC,kBAAkB,CAAC;AAC9D,OAAO,MAAMc,SAAS,GAAGA,CAAA,KAAMtC,GAAG,CAAC4B,GAAG,CAAC,SAAS,CAAC;;AAEjD;AACA,OAAO,MAAMW,cAAc,GAAGA,CAAA,KAAMvC,GAAG,CAAC4B,GAAG,CAAC,cAAc,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}